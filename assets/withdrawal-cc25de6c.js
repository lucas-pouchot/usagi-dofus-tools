var U=Object.defineProperty;var W=(c,e,t)=>e in c?U(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var h=(c,e,t)=>(W(c,typeof e!="symbol"?e+"":e,t),t);import{d as k,a as A,u as E,g as b,h as N,o as H,c as D,b as f,w as y,F as P,r as T,i as C,t as u,f as a,e as l,j as V,k as F,l as z}from"./index-54457059.js";class M{constructor(e){h(this,"level");h(this,"nodes");this.nodes=[],this.level=e}}class R{constructor(e,t,o=null,i=null){h(this,"data");h(this,"index");h(this,"level");h(this,"left");h(this,"right");h(this,"parent");h(this,"path",[]);this.data=o,this.index=t,this.level=e,this.parent=i,this.left=null,this.right=null}}class L{constructor(e){h(this,"levels",[]);h(this,"depth");this.depth=e}getLastLevel(){return this.levels.find(e=>e.level===this.depth)||new M(this.depth)}initTree(){this.levels=[];const e=[];for(let t=0,o=this.depth;t<o;t++)this.levels.push(new M(t));for(let t=0,o=Math.pow(2,this.depth);t<o;t++)e.push(0),e.push(0);this._initTree(e)}_initTree(e,t=0,o=[0]){let i=this.levels.find(r=>r.level===t);i||(i=new M(t),this.levels.push(i));let _=1,v=0;o.forEach((r,B)=>{_+=r*Math.pow(2,B)});for(let r=this.depth;r>t;r--)v+=Math.pow(2,r);let d=i.nodes.find(r=>r.index===v+_);return d||(d=new R(i,v+_),i.nodes.push(d)),d.path=Array.from(o.slice(0,-1).reverse()),d.left=null,d.right=null,e.length>2&&(d.left=this._initTree(e.slice(0,Math.ceil(e.length/2)),t+1,[0].concat(o)),d.right=this._initTree(e.slice(Math.ceil(e.length/2)),t+1,[1].concat(o))),d}}function O(c,e,t,o){let i=50*(t/o)*(e/c);return i<10?i=10:i>90&&(i=90),i/100}const S={class:"grid grid-cols-2 gap-3 place-content-center"},q={class:"flex justify-end"},G={class:"text-right align-middle pr-2 pt-1"},J={class:"flex text-left align-middle pt-1"},K={class:"flex justify-end"},Q={class:"text-right align-middle pr-2 pt-1"},X={class:"flex text-left align-middle pt-1"},Y={class:"flex justify-end"},Z={class:"text-right align-middle pr-2 pt-1"},$={class:"flex text-left align-middle pt-1"},tt={class:"grid grid-cols-2 gap-3 place-content-center mt-10"},et={class:"flex justify-end"},st={class:"text-right align-middle pr-2 pt-1"},it={class:"flex text-left align-middle pt-1"},at={class:"flex justify-end"},lt={class:"text-right align-middle pr-2 pt-1"},nt={class:"flex text-left align-middle pt-1"},I=k({__name:"withdrawal",props:{loading:{type:Boolean},windowWidth:null},setup(c){const e=c,{t}=A();E(),b("grid");const o=b(!1);N(()=>o.value||e.loading);const i=b(4),_=b(4),v=b(4),d=b(200),r=b(100),B=N(()=>{const j=new L(i.value);j.initTree();const p=j.getLastLevel();p.nodes.forEach(n=>{var m;n.data={success:n.path.reduce((s,w)=>s+w,0),proba:1,factors:[]};let g=0;for(let s=0;s<n.path.length;s++){let w=O(_.value,v.value-g,d.value,r.value);g+=n.path[s],n.path[s]===0&&(w=1-w),(m=n.data)==null||m.factors.push(w*100),n.data.proba*=w}});const x=[];for(let n=0;n<=i.value;n++){const g=p.nodes.filter(m=>{var s;return((s=m.data)==null?void 0:s.success)===n}).map(m=>{var s;return((s=m.data)==null?void 0:s.proba)||0});x.push({success:n,proba:g.reduce((m,s)=>m+s,0)*100})}return x});return(j,p)=>{const x=T("InputNumber"),n=T("Card"),g=T("Column"),m=T("DataTable");return H(),D(P,null,[f(n,null,{title:y(()=>[C(u(a(t)("withdraw.data.title")),1)]),content:y(()=>[l("div",S,[l("div",q,[l("div",G,u(a(t)("withdraw.data.theTargetHasMax")),1),f(x,{modelValue:a(_),"onUpdate:modelValue":p[0]||(p[0]=s=>V(_)?_.value=s:null),class:"withdraw-input p-inputtext-sm","show-buttons":"","button-layout":"horizontal",step:1,min:0,max:100,"increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus"},null,8,["modelValue"])]),l("div",J,u(a(t)("withdraw.data.mpAp")),1),l("div",K,[l("div",Q,u(a(t)("withdraw.data.theTargetHasCurrently")),1),f(x,{modelValue:a(v),"onUpdate:modelValue":p[1]||(p[1]=s=>V(v)?v.value=s:null),class:"withdraw-input p-inputtext-sm","show-buttons":"","button-layout":"horizontal",step:1,min:0,max:100,"increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus"},null,8,["modelValue"])]),l("div",X,u(a(t)("withdraw.data.mpAp")),1),l("div",Y,[l("div",Z,u(a(t)("withdraw.data.theTargetHas")),1),f(x,{modelValue:a(r),"onUpdate:modelValue":p[2]||(p[2]=s=>V(r)?r.value=s:null),class:"withdraw-input p-inputtext-sm","show-buttons":"","button-layout":"horizontal",step:1,min:0,max:1e3,"increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus"},null,8,["modelValue"])]),l("div",$,u(a(t)("withdraw.data.dodge")),1)]),l("div",tt,[l("div",et,[l("div",st,u(a(t)("withdraw.data.playerHave")),1),f(x,{modelValue:a(d),"onUpdate:modelValue":p[3]||(p[3]=s=>V(d)?d.value=s:null),class:"withdraw-input p-inputtext-sm","show-buttons":"","button-layout":"horizontal",step:1,min:0,max:1e3,"increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus"},null,8,["modelValue"])]),l("div",it,u(a(t)("withdraw.data.withdrawal")),1),l("div",at,[l("div",lt,u(a(t)("withdraw.data.wantToWithdraw")),1),f(x,{modelValue:a(i),"onUpdate:modelValue":p[4]||(p[4]=s=>V(i)?i.value=s:null),class:"withdraw-input p-inputtext-sm","show-buttons":"","button-layout":"horizontal",step:1,min:0,max:1e3,"increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus"},null,8,["modelValue"])]),l("div",nt,u(a(t)("withdraw.data.mpAp")),1)])]),_:1}),f(n,{class:"mt-4"},{title:y(()=>[C(u(a(t)("withdraw.result.title")),1)]),content:y(()=>[f(m,{value:a(B)},{default:y(()=>[f(g,{field:"success",header:a(t)("withdraw.result.numberWithdrew")},{body:y(({data:s,field:w})=>[C(u(s[w]),1)]),_:1},8,["header"]),f(g,{field:"proba",header:a(t)("withdraw.result.chanceOfEvent")},{body:y(({data:s,field:w})=>[C(u(s[w].toPrecision(4))+"% ",1)]),_:1},8,["header"])]),_:1},8,["value"])]),_:1})],64)}}});typeof z=="function"&&z(I);const rt=F(I,[["__scopeId","data-v-b4c5f7e5"]]);export{rt as default};
